<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Elifoot Web</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #0b6623;
  color: white;
  text-align: center;
}

button {
  padding: 10px 18px;
  margin: 6px;
  font-size: 16px;
  cursor: pointer;
}

.hidden {
  display: none;
}

table {
  margin: 15px auto;
  border-collapse: collapse;
}

td, th {
  border: 1px solid white;
  padding: 6px 10px;
}

.highlight {
  background: #ffd700;
  color: black;
}
</style>
</head>

<body>

<h1>‚öΩ ELIFOOT WEB</h1>

<!-- SELE√á√ÉO -->
<div id="screen-select">
  <h2>Escolha seu time</h2>
</div>

<!-- JOGO -->
<div id="screen-game" class="hidden">
  <h2 id="myTeam"></h2>
  <p>Rodada <span id="round">1</span> / <span id="totalRounds"></span></p>

  <button onclick="playRound()">‚ñ∂ Jogar Rodada</button>
  <button onclick="showTable()">üìä Classifica√ß√£o</button>

  <div id="output"></div>
</div>

<script>
/* ===== DADOS ===== */
let myTeam = "";
let currentRound = 0;

const teams = [
  { name: "Sparta FC", pts: 0, gf: 0, ga: 0 },
  { name: "Roma FC", pts: 0, gf: 0, ga: 0 },
  { name: "Athenas FC", pts: 0, gf: 0, ga: 0 },
  { name: "Troia FC", pts: 0, gf: 0, ga: 0 }
];

/* ===== GERAR CALEND√ÅRIO (TURNO) ===== */
function generateSchedule(teamList) {
  const schedule = [];
  for (let i = 0; i < teamList.length; i++) {
    for (let j = i + 1; j < teamList.length; j++) {
      schedule.push([teamList[i], teamList[j]]);
    }
  }
  return schedule;
}

const schedule = generateSchedule(teams);
const totalRounds = schedule.length;

/* ===== TELA DE SELE√á√ÉO ===== */
const selectDiv = document.getElementById("screen-select");

teams.forEach(t => {
  const btn = document.createElement("button");
  btn.innerText = t.name;
  btn.onclick = () => startGame(t.name);
  selectDiv.appendChild(btn);
});

/* ===== INICIAR JOGO ===== */
function startGame(teamName) {
  myTeam = teamName;

  document.getElementById("screen-select").classList.add("hidden");
  document.getElementById("screen-game").classList.remove("hidden");

  document.getElementById("myTeam").innerText = "Seu time: " + myTeam;
  document.getElementById("totalRounds").innerText = totalRounds;
}

/* ===== JOGAR RODADA ===== */
function playRound() {
  if (currentRound >= totalRounds) {
    finishSeason();
    return;
  }

  const match = schedule[currentRound];
  const a = match[0];
  const b = match[1];

  const ga = Math.floor(Math.random() * 4);
  const gb = Math.floor(Math.random() * 4);

  a.gf += ga; a.ga += gb;
  b.gf += gb; b.ga += ga;

  if (ga > gb) a.pts += 3;
  else if (gb > ga) b.pts += 3;
  else { a.pts++; b.pts++; }

  document.getElementById("output").innerHTML = `
    <h3>Rodada ${currentRound + 1}</h3>
    <p>${a.name} ${ga} x ${gb} ${b.name}</p>
  `;

  currentRound++;
  document.getElementById("round").innerText = currentRound + 1;
}

/* ===== CLASSIFICA√á√ÉO ===== */
function showTable() {
  let html = `
    <h3>Classifica√ß√£o</h3>
    <table>
      <tr>
        <th>Time</th>
        <th>Pts</th>
        <th>GM</th>
        <th>GS</th>
      </tr>
  `;

  teams
    .slice()
    .sort((a, b) => b.pts - a.pts)
    .forEach(t => {
      const cls = t.name === myTeam ? "highlight" : "";
      html += `
        <tr class="${cls}">
          <td>${t.name}</td>
          <td>${t.pts}</td>
          <td>${t.gf}</td>
          <td>${t.ga}</td>
        </tr>
      `;
    });

  html += "</table>";
  document.getElementById("output").innerHTML = html;
}

/* ===== FIM DA TEMPORADA ===== */
function finishSeason() {
  const champion = teams
    .slice()
    .sort((a, b) => b.pts - a.pts)[0];

  document.getElementById("output").innerHTML = `
    <h2>üèÜ Fim da Temporada</h2>
    <p>Campe√£o: <strong>${champion.name}</strong></p>
  `;
}
</script>

</body>
</html>
